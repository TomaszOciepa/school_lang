<div class="mt-3" *ngIf="course">
  <div>
    <p>Usuń kurs:</p>
    <button mat-raised-button color="warn" (click)="openDialog()">Usuń</button>
  </div>
  <div>
    <p>Edytuj kurs:</p>
    <button mat-raised-button color="primary" (click)="openEditDialog()">
      Edytuj
    </button>
  </div>
  <h4>Informacje o kusie:</h4>
  <table class="table table-striped table-bordered">
    <tbody>
      <tr>
        <td><b>nazwa: </b>{{ course.name }}</td>
        <td><b>status: </b>{{ course.status }}</td>
        <td><b>data rozpoczęcia: </b>{{ course.startDate }}</td>
        <td><b>data zakończenia: </b>{{ course.endDate }}</td>
      </tr>
      <tr>
        <td><b>liczba lekcji: </b>{{ course.lessonsNumber }}</td>
        <td><b>liczba uczniów: </b>{{ course.participantsNumber }}</td>
        <td><b>max liczba uczniów: </b>{{ course.participantsLimit }}</td>
      </tr>
    </tbody>
  </table>
</div>
<div class="container">
  <div class="row">
    <div class="col">
      <div *ngIf="!students">
        <h3>Brak uczniów</h3>
      </div>
      <div>
        <button mat-raised-button color="info" (click)="openEnrollDialog(true)">
          dodaj kursanta
        </button>
      </div>
      <div *ngIf="students">
        <h3>Lista uczniów:</h3>
        <table class="table table-info table-striped">
          <thead>
            <tr>
              <th scope="col">lp.</th>
              <th scope="col">Imię</th>
              <th scope="col">Nazwisko</th>
              <th scope="col">Status</th>
              <th scope="col"></th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let student of students; index as i">
              <th scope="row">{{ i + 1 }}</th>
              <td>{{ student.firstName }}</td>
              <td>{{ student.lastName }}</td>
              <td>{{ course.courseStudents.enrollmentData }}</td>
              <td>
                <button
                  mat-raised-button
                  color="primary"
                  [routerLink]="'/students/' + student.id"
                >
                  szczegóły
                </button>
              </td>
              <td>
                <button
                  mat-raised-button
                  color="warn"
                  (click)="openUnEnrollDialog(student, true)"
                >
                  usuń
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="col">
      <div *ngIf="!teachers">
        <h3>Brak przypisanych nauczycieli</h3>
      </div>
      <div>
        <button
          mat-raised-button
          color="info"
          (click)="openEnrollDialog(false)"
        >
          dodaj nauczyciela
        </button>
      </div>
      <div *ngIf="teachers">
        <h3>Lista nauczycieli</h3>
        <table class="table table-primary">
          <thead>
            <tr>
              <th scope="col">lp.</th>
              <th scope="col">Imię</th>
              <th scope="col">nazwisko</th>
              <th scope="col"></th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let teacher of teachers; index as i">
              <th scope="row">{{ i + 1 }}</th>
              <td>{{ teacher.firstName }}</td>
              <td>{{ teacher.lastName }}</td>
              <td>
                <button
                  mat-raised-button
                  color="primary"
                  [routerLink]="'/teachers/' + teacher.id"
                >
                  szczegóły
                </button>
              </td>
              <td>
                <button
                  mat-raised-button
                  color="warn"
                  (click)="openUnEnrollDialog(teacher, false)"
                >
                  usuń
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
