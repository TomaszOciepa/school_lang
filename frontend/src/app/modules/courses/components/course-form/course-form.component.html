<div class="teacher-form-wrapper mt-3">
  <h2 *ngIf="!editMode">Dodaj kurs:</h2>
  <form [formGroup]="courseForm" (ngSubmit)="onAddCourse()">
    <div>
      <mat-form-field>
        <mat-label>Nazwa</mat-label>
        <input matInput formControlName="name" />
        <mat-error *ngIf="controls.name.invalid">{{
          getErrorMessage(controls.name)
        }}</mat-error>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <mat-label>Maksymalna ilość uczniów</mat-label>
        <input matInput formControlName="participantsLimit" />
        <mat-error *ngIf="controls.participantsLimit.invalid">{{
          getErrorMessage(controls.participantsLimit)
        }}</mat-error>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <mat-label>Liczba lekcji</mat-label>
        <input matInput formControlName="lessonsLimit" />
        <mat-error *ngIf="controls.lessonsLimit.invalid">{{
          getErrorMessage(controls.lessonsLimit)
        }}</mat-error>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <mat-label>Data rozpoczęcia i zakończenia</mat-label>
        <mat-date-range-input [rangePicker]="picker">
          <input
            matStartDate
            placeholder="Start date"
            formControlName="startDate"
          />
          <input matEndDate placeholder="End date" formControlName="endDate" />
        </mat-date-range-input>
        <mat-hint>MM/DD/YYYY – MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle
          matIconSuffix
          [for]="picker"
        ></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>
      </mat-form-field>
    </div>
    <div *ngIf="errMsg" class="alert alert-danger" role="alert">
      {{ errMsg }}
    </div>
    <div class="d-flex justify-content-end">
      <button
        type="button"
        mat-raised-button
        color="warn"
        *ngIf="editMode"
        (click)="emitCLoseDialog()"
      >
        Anuluj
      </button>
      <button
        class="mx-1"
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="courseForm.invalid"
      >
        {{ editMode ? "Zapisz" : "Dodaj nowy kurs" }}
      </button>
    </div>
  </form>
</div>
